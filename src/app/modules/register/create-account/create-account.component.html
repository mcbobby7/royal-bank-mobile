<ion-content>
  <app-loader *ngIf="loading"></app-loader>
  <div
    style="
      height: 90vh;
      display: flex;
      justify-content: space-between;
      flex-direction: column;
      padding-bottom: 40px;
    "
    *ngIf="page === 'select'"
  >
    <div>
      <section class="row">
        <h3>Your BVN data</h3>
      </section>
      <div style="background-color: #f8f8f8; border-radius: 8px; padding: 10px">
        <table>
          <tbody style="font-size: 14px; text-align: left">
            <tr>
              <th style="padding: 10px 5px">First Name</th>
              <td style="padding: 10px 5px">{{ user.firstName }}</td>
            </tr>
            <tr>
              <th style="padding: 10px 5px">Last Name</th>
              <td style="padding: 10px 5px">{{ user.lastName }}</td>
            </tr>
            <tr>
              <th style="padding: 10px 5px">Middle Name</th>
              <td style="padding: 10px 5px">{{ user.middleName }}</td>
            </tr>
            <tr>
              <th style="padding: 10px 5px">Phone #</th>
              <td style="padding: 10px 5px">{{ user.phoneNo }}</td>
            </tr>
            <tr>
              <th style="padding: 10px 5px">Email</th>
              <td style="padding: 10px 5px">{{ user.emailAddress }}</td>
            </tr>
            <tr>
              <th style="padding: 10px 5px">DOB</th>
              <td style="padding: 10px 5px">{{ user.dob | date }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <section
      style="
        display: flex;
        flex-direction: column;
        align-content: space-between;
      "
    >
      <ion-button class="btn" expand="block" (click)="change('use')">
        Continue
      </ion-button>

      <!-- <ion-button
        class="btn2"
        expand="block"
        style="margin-top: 1rem"
        (click)="change('edit')"
      >
        Edit & Continue
      </ion-button> -->
    </section>
  </div>
  <section
    style="
      height: 90vh;
      display: flex;
      justify-content: space-between;
      flex-direction: column;
      padding-bottom: 40px;
    "
    *ngIf="page === 'edit'"
  >
    <div>
      <section class="row">
        <h3>Create Account</h3>
      </section>
    </div>

    <section class="row">
      <div style="background: #e0feea; border-radius: 8px; margin: 10px 4px">
        <ion-card-content
          style="
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            background: #fff5d2;
            border-radius: 8px;
          "
        >
          <span style="text-align: justify; font-size: 12px; color: #25214f"
            >Royal Bank is legally required to verify your identity, Royal Bank
            DOES NOT have access to your other bank accounts or transactions and
            will never share your information with a third party.
          </span>
        </ion-card-content>
      </div>
    </section>

    <section class="row">
      <h5 style="text-align: left; color: black">
        Enter your password to continue
      </h5>
      <form [formGroup]="onboardingForm">
        <div class="form-group row" style="padding: 5px">
          <label for="">Email</label>
          <input
            formControlName="Email"
            type="email"
            class="input"
            placeholder="ciroma.kelvin@gmail.com"
          />
        </div>
        <div class="form-group row" style="padding: 5px">
          <label for="">Phone</label>
          <div class="phoneField">
            <input
              formControlName="Phone"
              type="text"
              class="input"
              placeholder="08012345678"
            />
          </div>
        </div>
        <div class="form-group row" style="padding: 5px">
          <label class="label">Password</label>
          <div
            style="
              border: 0.800000011920929px solid #ced4da;
              border-radius: 3px;
              background-color: #ced4da;
              position: relative;
            "
          >
            <input
              [type]="show ? 'text' : 'password'"
              formControlName="Password"
              placeholder="Password"
              id="password"
              required
              style="border: none"
              class="input"
            />
            <ion-icon
              (click)="viewpassword()"
              *ngIf="!show"
              icon="eye-off-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
            <ion-icon
              (click)="viewpassword()"
              *ngIf="show"
              icon="eye-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
          </div>
        </div>

        <div class="form-group row" style="padding: 5px">
          <label class="label">Confirm Password</label>
          <div
            style="
              border: 0.800000011920929px solid #ced4da;
              border-radius: 3px;
              background-color: #ced4da;
              position: relative;
            "
          >
            <input
              [type]="show ? 'text' : 'password'"
              [ngModelOptions]="{ standalone: true }"
              [(ngModel)]="confirmPass"
              placeholder="Password"
              id="password"
              required
              style="border: none"
              class="input"
            />
            <ion-icon
              (click)="viewpassword()"
              *ngIf="!show"
              icon="eye-off-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
            <ion-icon
              (click)="viewpassword()"
              *ngIf="show"
              icon="eye-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
          </div>
        </div>

        <div class="form-group row" style="padding: 5px">
          <label for="">Referal Code (optional)</label>
          <input
            formControlName="RefCode"
            type="text"
            class="input"
            placeholder="******"
          />
        </div>

        <div
          class="form-group row"
          style="
            padding: 5px;
            display: flex;
            flex-direction: row;
            align-items: center;
          "
        >
          <ion-checkbox slot="end" formControlName="terms"></ion-checkbox>
          <ion-label style="margin-left: 10px"
            >I accept terms of service and privacy policy</ion-label
          >
        </div>

        <div class="form-group">
          <ion-button
            class="btn"
            expand="block"
            style="margin-top: 1rem"
            (click)="presentAlertPrompt()"
            routerLinkActive="router-link-active"
          >
            Create Account
          </ion-button>
        </div>
      </form>
    </section>
  </section>

  <section *ngIf="page === 'use'">
    <div>
      <section class="row">
        <h3>Create Account</h3>
      </section>

      <section>
        <div
          style="background-color: #f8f8f8; border-radius: 8px; padding: 10px"
        >
          <table>
            <tbody style="font-size: 14px; text-align: left">
              <tr>
                <th style="padding: 10px 5px">First Name</th>
                <td style="padding: 10px 5px">{{ user.firstName }}</td>
              </tr>
              <tr>
                <th style="padding: 10px 5px">Last Name</th>
                <td style="padding: 10px 5px">{{ user.lastName }}</td>
              </tr>
              <tr>
                <th style="padding: 10px 5px">Middle Name</th>
                <td style="padding: 10px 5px">{{ user.middleName }}</td>
              </tr>
              <tr>
                <th style="padding: 10px 5px">Phone #</th>
                <td style="padding: 10px 5px">{{ user.phoneNo }}</td>
              </tr>
              <tr>
                <th style="padding: 10px 5px">Email</th>
                <td style="padding: 10px 5px">{{ user.emailAddress }}</td>
              </tr>
              <tr>
                <th style="padding: 10px 5px">DOB</th>
                <td style="padding: 10px 5px">{{ user.dob | date }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <section class="row">
      <h5 style="text-align: left; color: black">
        Enter your password to continue
      </h5>
      <form [formGroup]="onboardingForm">
        <div *ngIf="!isEmail" class="form-group row" style="padding: 5px">
          <label for="">Email</label>
          <input
            formControlName="Email"
            type="email"
            class="input"
            placeholder="ciroma.kelvin@gmail.com"
          />
        </div>
        <div *ngIf="!isPhone" class="form-group row" style="padding: 5px">
          <label for="">Phone</label>
          <div class="phoneField">
            <input
              formControlName="Phone"
              type="text"
              class="input"
              placeholder="8012345678"
            />
          </div>
        </div>
        <div class="form-group row" style="padding: 5px">
          <label class="label">Password</label>
          <div
            style="
              border: 0.800000011920929px solid #ced4da;
              border-radius: 3px;
              background-color: #ced4da;
              position: relative;
            "
          >
            <input
              [type]="show ? 'text' : 'password'"
              formControlName="Password"
              placeholder="Password"
              id="password"
              required
              style="border: none"
              class="input"
              (ngModelChange)="checkStrength($event)"
            />
            <ion-icon
              (click)="viewpassword()"
              *ngIf="!show"
              icon="eye-off-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
            <ion-icon
              (click)="viewpassword()"
              *ngIf="show"
              icon="eye-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
          </div>
          <div style="font-size: 13px; text-align: left">
            password should contain lowercase, uppercase, number and minimum of
            6 characters
          </div>
          <div
            style="
              display: flex;
              flex-direction: row;
              margin-top: 10px;
              background-color: red;
            "
          >
            <div
              style="width: 25%; height: 3px"
              [style.background-color]="check[0] ? 'green' : 'red'"
            ></div>
            <div
              style="width: 25%; height: 3px"
              [style.background-color]="check[1] ? 'green' : 'red'"
            ></div>
            <div
              style="width: 25%; height: 3px"
              [style.background-color]="
                check[2] ? 'green' : check[1] ? 'rgb(217, 217, 12)' : 'red'
              "
            ></div>
            <div
              style="width: 25%; height: 3px"
              [style.background-color]="
                check[3]
                  ? 'green'
                  : check[1] || check[2]
                  ? 'rgb(217, 217, 12)'
                  : 'red'
              "
            ></div>
          </div>
        </div>

        <div class="form-group row" style="padding: 5px">
          <label class="label">Confirm Password</label>
          <div
            style="
              border: 0.800000011920929px solid #ced4da;
              border-radius: 3px;
              background-color: #ced4da;
              position: relative;
            "
          >
            <input
              [type]="show ? 'text' : 'password'"
              [ngModelOptions]="{ standalone: true }"
              [(ngModel)]="confirmPass"
              placeholder="Password"
              id="password"
              required
              style="border: none"
              class="input"
            />
            <ion-icon
              (click)="viewpassword()"
              *ngIf="!show"
              icon="eye-off-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
            <ion-icon
              (click)="viewpassword()"
              *ngIf="show"
              icon="eye-outline"
              style="
                font-size: 32px;
                color: #676767;
                cursor: pointer;
                background-color: transparent;
                position: absolute;
                right: 20px;
                top: 10px;
              "
            ></ion-icon>
          </div>
        </div>

        <div class="form-group row" style="padding: 5px">
          <label for="">Referal Code (optional)</label>
          <input
            formControlName="RefCode"
            type="text"
            class="input"
            placeholder="******"
          />
        </div>

        <div
          class="form-group row"
          style="
            padding: 5px;
            display: flex;
            flex-direction: row;
            align-items: center;
          "
        >
          <ion-checkbox slot="end" formControlName="terms"></ion-checkbox>
          <ion-label style="margin-left: 10px"
            >I accept terms of service and privacy policy</ion-label
          >
        </div>

        <div class="form-group">
          <ion-button
            class="btn"
            expand="block"
            style="margin-top: 1rem; font-family: Mulish !important"
            (click)="presentAlertPrompt()"
            routerLinkActive="router-link-active"
          >
            Create Account
          </ion-button>
        </div>
      </form>
    </section>
  </section>
</ion-content>
